# P2: Design Revolution - ç°ä»£åŒ–è®¾è®¡ç³»ç»Ÿä¸ä¸»é¢˜æ¶æ„æ–¹æ¡ˆ

## 1. æ¦‚è¿°ä¸ç›®æ ‡
æœ¬æ–¹æ¡ˆæ—¨åœ¨è¾¾æˆ ROADMAP P2 é˜¶æ®µç›®æ ‡ï¼š**"è®¾è®¡é©å‘½ (Modern Design System)"**ã€‚
æˆ‘ä»¬å°†æ‘’å¼ƒåŸºç¡€çš„ CSS æ ·å¼ï¼Œå¼•å…¥ä¸€å¥—å…·å¤‡**ç»ç’ƒæ‹Ÿæ€ (Glassmorphism)**ã€**å‘¼å¸åŠ¨æ•ˆ**å’Œ**é«˜çº§æ„Ÿ**çš„ç°ä»£åŒ–è®¾è®¡è¯­è¨€ã€‚åŒæ—¶ï¼Œæ„å»ºå¯æ‰©å±•çš„ä¸»é¢˜ç³»ç»Ÿï¼Œæ”¯æŒ**ç§‘æŠ€è“ (Current)** ä¸ **æ´»åŠ›æ©™ (New #E75213)** çš„å³æ—¶åˆ‡æ¢ã€‚

## 2. æ ¸å¿ƒè®¾è®¡è¯­è¨€ (Visual Language)

### 2.1 è‰²å½©ä½“ç³» (Color System)
é‡‡ç”¨ HSL é¢œè‰²ç©ºé—´ä»¥ç¡®ä¿è‰²é˜¶ç”Ÿæˆçš„æ•°å­¦å’Œè°æ€§ã€‚

#### ğŸ¨ ä¸»é¢˜è‰² (Brand Themes)
æˆ‘ä»¬å°†æ”¯æŒå¤šä¸»é¢˜åˆ‡æ¢ï¼Œé€šè¿‡ CSS Variables åŠ¨æ€æ˜ å°„ã€‚

**Theme A: Deep Ocean (å½“å‰ç§‘æŠ€è“)**
*   æ²‰ç¨³ã€ä¸“ä¸šã€ç§‘æŠ€æ„Ÿ
*   Primary: `#3b82f6` (Blue 500)
*   Glow: `rgba(59, 130, 246, 0.5)`

**Theme B: Molten Core (æ–°å¢æ´»åŠ›æ©™)**
*   æ¿€æƒ…ã€é«˜èƒ½ã€é†’ç›®
*   Primary: `#E75213` (Base)
*   Variants:
    *   Surface: `#FFF0EB` (Light), `#2A0F05` (Dark)
    *   Hover: `#FF6B2E`
    *   Active: `#C23E0A`
    *   Glow: `rgba(231, 82, 19, 0.5)`

#### ğŸŒ‘ ç•Œé¢åº•è‰² (Neutral Surfaces)
ä¸ºäº†é…åˆç»ç’ƒæ‹Ÿæ€ï¼ŒèƒŒæ™¯ä¸å†æ˜¯çº¯è‰²ï¼Œè€Œæ˜¯æ·±é‚ƒçš„æ¸å˜ã€‚
*   **Bg-Deep**: `#0f172a` (Slate 900) -> `#020617` (Slate 950)
*   **Glass-Panel**: `rgba(30, 41, 59, 0.7)` + `backdrop-filter: blur(12px)`
*   **Border-Subtle**: `rgba(255, 255, 255, 0.08)`

### 2.2 è§†è§‰ç‰¹æ•ˆ (Effects)

*   **Glassmorphism (ç»ç’ƒæ‹Ÿæ€)**:
    *   ç”¨äºä¾§è¾¹æ ã€èŠ‚ç‚¹å¡ç‰‡ã€å¼¹çª—ã€‚
    *   ç‰¹æ€§ï¼šé«˜æ–¯æ¨¡ç³ŠèƒŒæ™¯ã€åŠé€æ˜ç™½è‰²è¾¹æ¡†ã€ç»†è…»çš„å™ªç‚¹çº¹ç†ï¼ˆå¯é€‰ï¼‰ã€‚
    *   Token: `var(--glass-surface)`

*   **Neon Glow (éœ“è™¹å…‰æ™•)**:
    *   ç”¨äºé€‰ä¸­çŠ¶æ€ã€æ´»è·ƒè¿æ¥çº¿ã€‚
    *   ç‰¹æ€§ï¼šå¤šå±‚é˜´å½±å åŠ ã€‚
    *   CSS: `box-shadow: 0 0 0 1px var(--primary), 0 0 20px var(--primary-glow);`

*   **Micro-Animations (å¾®åŠ¨æ•ˆ)**:
    *   Hover æ—¶è½»å¾®ä¸Šæµ® (`translateY(-2px)`).
    *   ç‚¹å‡»æ—¶çš„ç¼©æ”¾åé¦ˆ (`scale(0.98)`).
    *   è¿çº¿æ—¶çš„æµåŠ¨å…‰æ•ˆ.

## 3. æŠ€æœ¯æ¶æ„è®¾è®¡

### 3.1 CSS å˜é‡æ¶æ„
åœ¨ `:root` æˆ– `[data-theme="..."]` ä½œç”¨åŸŸä¸‹å®šä¹‰è¯­ä¹‰åŒ–å˜é‡ã€‚

```css
:root {
  /* åŸºç¡€è¯­ä¹‰å±‚ */
  --color-primary: #3b82f6;
  --color-primary-glow: rgba(59, 130, 246, 0.5);
  
  /* åŠŸèƒ½å±‚ */
  --bg-app: linear-gradient(135deg, #0f172a 0%, #020617 100%);
  --node-bg: rgba(30, 41, 59, 0.7);
  --node-border: 1px solid rgba(255, 255, 255, 0.1);
}

/* æ©™è‰²ä¸»é¢˜è¦†å†™ */
[data-theme="orange"] {
  --color-primary: #E75213;
  --color-primary-glow: rgba(231, 82, 19, 0.5);
  /* å¯èƒ½è°ƒæ•´èƒŒæ™¯å€¾å‘ï¼Œä½¿å…¶å¸¦æœ‰æš–è‰²è°ƒ */
  --bg-app: linear-gradient(135deg, #1a0a05 0%, #0f172a 100%);
}
```

### 3.2 èŠ‚ç‚¹ç»„ä»¶é‡æ„ (Node Component V2)
ç°æœ‰çš„ `TaskNode` å’Œ `NodeWrapper` å°†åˆå¹¶å‡çº§ï¼Œç§»é™¤å†…è”æ ·å¼ (Inline Styles)ï¼Œè½¬ä¸º CSS Modules æˆ–çº¯ CSS ç±»åæ§åˆ¶ã€‚

**æ–°ç»“æ„:**
```tsx
<div className={`workflow-node ${selected ? 'selected' : ''} ${status}`}>
  <div className="node-glass-panel">
    <div className="node-header">
       <Icon /> <Label />
    </div>
    <div className="node-body">
       <StatusIndicator />
    </div>
    <div className="node-glow-effect" />
  </div>
  <Handle />
</div>
```

## 4. å®æ–½é˜¶æ®µè§„åˆ’ (Implementation Steps)

### Phase 2.1: åŸºç¡€å»ºè®¾ (Foundation)
1.  **é‡ç½® CSS**: æ¸…ç† `App.css` ä¸­çš„è€æ—§æ ·å¼ã€‚
2.  **å»ºç«‹ Token ç³»ç»Ÿ**: åˆ›å»º `src/styles/tokens.css` å’Œ `src/styles/themes.css`ã€‚
3.  **ä¸»é¢˜åˆ‡æ¢å™¨**: å¼€å‘ `ThemeSwitcher` ç»„ä»¶ï¼Œåˆ©ç”¨ Zustand å­˜å‚¨å½“å‰ä¸»é¢˜çŠ¶æ€ (`theme: 'blue' | 'orange'`) å¹¶æŒ‚è½½åˆ° `<body>` å±æ€§ä¸Šã€‚

### Phase 2.2: æ ¸å¿ƒ UI å‡çº§
1.  **åº”ç”¨æ¡†æ¶**: é‡å†™ Layoutï¼Œåº”ç”¨æ·±è‰²ç»ç’ƒèƒŒæ™¯ã€‚
2.  **èŠ‚ç‚¹ 2.0**: å¼€å‘å…¨æ–°çš„èŠ‚ç‚¹å¤–è§‚ï¼Œé›†æˆ Glow æ•ˆæœã€‚
3.  **è¿æ¥çº¿**: å®šåˆ¶ ReactFlow Edgeï¼Œå¢åŠ æµå…‰åŠ¨ç”»ã€‚

### Phase 2.3: ç»†èŠ‚æ‰“ç£¨
1.  **åŠ¨æ•ˆ**: æ·»åŠ  Framer Motion æˆ– CSS Transitionã€‚
2.  **å“åº”å¼**: ä¼˜åŒ–ä¾§è¾¹æ åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„è¡¨ç°ã€‚

## 5. å®¡æ ¸é‡ç‚¹
*   [ ] æ˜¯å¦ç¡®è®¤æ©™è‰²è‰²å€¼ `#E75213` ä¸ºå“ç‰Œä¸»è‰²ï¼Ÿ
*   [ ] æ˜¯å¦åŒæ„ç§»é™¤æ‰€æœ‰æ—§ç‰ˆ Inline Styleï¼Œå…¨é¢è½¬å‘ CSS Variables ç®¡ç†ï¼Ÿ
*   [ ] æ˜¯å¦éœ€è¦æ”¯æŒâ€œè·Ÿéšç³»ç»Ÿâ€çš„äº®/æš—æ¨¡å¼ï¼Ÿ(æœ¬æ–¹æ¡ˆä¾§é‡äºæ·±è‰²é«˜ç«¯æ¨¡å¼ï¼Œäº®è‰²æ¨¡å¼å»ºè®®ä½œä¸ºæ¬¡è¦ä¼˜å…ˆçº§æˆ–æš‚ç¼“ï¼Œä»¥ä¿è¯æ·±è‰²æ¨¡å¼çš„æè‡´ä½“éªŒ)
